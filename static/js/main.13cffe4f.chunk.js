(this["webpackJsonpreact-fetch-movies"]=this["webpackJsonpreact-fetch-movies"]||[]).push([[0],[,,,function(e,t,n){e.exports={control:"AddMovie_control__2ENNX"}},,,,,function(e,t,n){e.exports={movie:"Movie_movie__27rBX"}},function(e,t,n){e.exports={"movies-list":"MoviesList_movies-list__lMnXQ"}},,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(7),i=n.n(r),o=(n(14),n(2)),a=n.n(o),l=n(6),j=n(4),u=n(8),b=n.n(u),d=n(0),x=function(e){return Object(d.jsxs)("li",{className:b.a.movie,children:[Object(d.jsx)("h2",{children:e.title}),Object(d.jsx)("h3",{children:e.releaseDate}),Object(d.jsx)("p",{children:e.openingText})]})},h=n(9),f=n.n(h),p=function(e){return Object(d.jsx)("ul",{className:f.a["movies-list"],children:e.movies.map((function(e){return Object(d.jsx)(x,{title:e.title,releaseDate:e.releaseDate,openingText:e.openingText},e.id)}))})},O=n(3),v=n.n(O);var m=function(e){var t=Object(c.useRef)(""),n=Object(c.useRef)(""),s=Object(c.useRef)("");return Object(d.jsxs)("form",{onSubmit:function(c){c.preventDefault();var r={title:t.current.value,openingText:n.current.value,releaseDate:s.current.value};e.onAddMovie(r)},children:[Object(d.jsxs)("div",{className:v.a.control,children:[Object(d.jsx)("label",{htmlFor:"title",children:"Title"}),Object(d.jsx)("input",{type:"text",id:"title",ref:t})]}),Object(d.jsxs)("div",{className:v.a.control,children:[Object(d.jsx)("label",{htmlFor:"opening-text",children:"Opening Text"}),Object(d.jsx)("textarea",{rows:"5",id:"opening-text",ref:n})]}),Object(d.jsxs)("div",{className:v.a.control,children:[Object(d.jsx)("label",{htmlFor:"date",children:"Release Date"}),Object(d.jsx)("input",{type:"text",id:"date",ref:s})]}),Object(d.jsx)("button",{children:"Add Movie"})]})};n(17);var g=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),o=Object(j.a)(i,2),u=o[0],b=o[1],x=Object(c.useState)(null),h=Object(j.a)(x,2),f=h[0],O=h[1],v=Object(c.useCallback)(Object(l.a)(a.a.mark((function e(){var t,n,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),O(null),e.prev=2,e.next=5,fetch("https://react-fetch-movies-1fd98-default-rtdb.firebaseio.com/movies.json");case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Something went wrong!");case 8:return e.next=10,t.json();case 10:for(s in n=e.sent,c=[],n)c.push({id:s,title:n[s].title,openingText:n[s].openingText,releaseDate:n[s].releaseDate});r(c),b(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),O(e.t0.message),b(!1);case 21:case"end":return e.stop()}}),e,null,[[2,17]])}))),[]);function g(){return(g=Object(l.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-fetch-movies-1fd98-default-rtdb.firebaseio.com/movies.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,console.log(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){v()}),[v]);var w=Object(d.jsx)("p",{children:"Found no movies."});return n.length>0&&(w=Object(d.jsx)(p,{movies:n})),f&&(w=Object(d.jsx)("p",{children:f})),u&&(w=Object(d.jsx)("p",{children:"Loading..."})),Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)("section",{children:Object(d.jsx)(m,{onAddMovie:function(e){return g.apply(this,arguments)}})}),Object(d.jsx)("section",{children:Object(d.jsx)("button",{onClick:v,children:"Fetch Movies"})}),Object(d.jsx)("section",{children:w})]})};i.a.render(Object(d.jsx)(g,{}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.13cffe4f.chunk.js.map